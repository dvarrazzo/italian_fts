DATA = italian.dict.ENCODING italian.aff.ENCODING italian.stop.ENCODING
DOCS = README.italian_fts.ENCODING LEGGIMI.italian_fts.ENCODING

ifndef SPELL_ONLY

MODULE_big = italian_stem_ENCODING
OBJS =  stem.o dict_snowball.o
PG_CPPFLAGS = -I../tsearch2/snowball -I../tsearch2
SHLIB_LINK = ../tsearch2/libtsearch2.a
DATA_built = italian_fts_ENCODING.sql

PGXS := $(shell pg_config --pgxs)
include $(PGXS)

DEFAULT: $(MODULE_big)$(DLSUFFIX)

italian_fts_ENCODING.sql : italian_fts_ENCODING.sql.in
	sed 's,CONTRIBDIR,$(DESTDIR)$(datadir)/contrib,g' $< | \
	sed 's,MODULE_PATHNAME,$$libdir/$(MODULE_big)$(DLSUFFIX),g' >$@

else # SPELL_ONLY

DATA_built = italian_fts_spell_ENCODING.sql

PGXS := $(shell pg_config --pgxs)
include $(PGXS)

italian_fts_spell_ENCODING.sql : italian_fts_spell_ENCODING.sql.in
	sed 's,CONTRIBDIR,$(DESTDIR)$(datadir)/contrib,g' $< >$@

endif # SPELL_ONLY
